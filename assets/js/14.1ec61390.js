(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{412:function(e,n,t){"use strict";t.r(n);var r=t(56),a=Object(r.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"高手进阶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#高手进阶"}},[e._v("#")]),e._v(" 高手进阶")]),e._v(" "),t("h2",{attrs:{id:"父子关系处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#父子关系处理"}},[e._v("#")]),e._v(" 父子关系处理")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("定义示例:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('\nclass Region extends DataObject {\n\n    /**\n        * 从属一对一关系\n        */\n    static $belong_has_one = array(\n        "region_p" => "Region"\n    );\n\n    ......\n')])])])]),e._v(" "),t("li",[t("p",[e._v("代码如下:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('$region = Region::getById( "2709" );\nprint_r($region);\nprint_r($region->region_p);\n\n')])])])]),e._v(" "),t("li",[t("p",[e._v("输出显示如下:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Region Object\n(\n    [region_id] => 2709\n    [parent_id] => 321\n    [region_name] => 普陀区\n    [region_type] => 3\n    [level] => 4\n    [id:protected] =>\n    [commitTime] => 1324018201\n    [updateTime] => 2014-04-27 10:02:29\n)\nRegion Object\n(\n    [region_id] => 321\n    [parent_id] => 25\n    [region_name] => 上海\n    [region_type] => 2\n    [level] => 3\n    [id:protected] =>\n    [commitTime] => 1324018201\n    [updateTime] => 2014-04-27 10:02:29\n)\n")])])])])]),e._v(" "),t("h2",{attrs:{id:"多个外键引用同一张表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多个外键引用同一张表"}},[e._v("#")]),e._v(" 多个外键引用同一张表")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("说明:获取地区信息")])]),e._v(" "),t("li",[t("p",[e._v("定义示例:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('class Userdetail extends DataObject {\n    /**\n    * 规格说明:外键声明\n    * @var mixed\n    */\n    public $field_spec = array(\n        EnumDataSpec::FOREIGN_ID => array(\n            \'country_r\'  => "country",\n            "province_r" => "province",\n            "city_r"     => "city",\n            \'district_r\' => "district"\n        )\n    );\n\n    /**\n    * 从属一对一关系\n    */\n    static $belong_has_one = array(\n        "country_r"  => "Region",\n        "province_r" => "Region",\n        "city_r"     => "Region",\n        "district_r" => "Region"\n    );\n')])])])]),e._v(" "),t("li",[t("p",[e._v("代码如下:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('$user       = User::getById( 1 );\n$userDetail = $user->userdetail;\n$region["country"]  = $userDetail->country_r;\n$region["province"] = $userDetail->province_r;\n$region["city"]     = $userDetail->city_r;\n$region["district"] = $userDetail->district_r;\nprint_r($region);\n')])])])]),e._v(" "),t("li",[t("p",[e._v("输出显示如下:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Array\n(\n    [country] => Region Object\n        (\n            [region_id] => 1\n            [parent_id] => 0\n            [region_name] => 中国\n            [region_type] => 0\n            [level] => 1\n            [id:protected] =>\n            [commitTime] => 1324018201\n            [updateTime] => 2014-04-27 10:02:29\n        )\n")])])])])])])}),[],!1,null,null,null);n.default=a.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{413:function(t,e,a){"use strict";a.r(e);var s=a(56),l=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"运维"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运维"}},[t._v("#")]),t._v(" 运维")]),t._v(" "),a("h2",{attrs:{id:"运维工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运维工具"}},[t._v("#")]),t._v(" 运维工具")]),t._v(" "),a("ul",[a("li",[t._v("路径          : tools/maintain.php")]),t._v(" "),a("li",[t._v("运维工具汇总地址: http://127.0.0.1/betterlife/tools/maintain.php\n"),a("ul",[a("li",[t._v("均为示例")]),t._v(" "),a("li",[t._v("代码已注释，需取消注释使用")])])])]),t._v(" "),a("h3",{attrs:{id:"清单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#清单"}},[t._v("#")]),t._v(" 清单")]),t._v(" "),a("ul",[a("li",[t._v("导出数据到Excel")]),t._v(" "),a("li",[t._v("统计代码行数")]),t._v(" "),a("li",[t._v("多数据库源")]),t._v(" "),a("li",[t._v("显示超过限制数量的表")]),t._v(" "),a("li",[t._v("生成报表")])]),t._v(" "),a("h3",{attrs:{id:"导出数据到excel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导出数据到excel"}},[t._v("#")]),t._v(" 导出数据到Excel")]),t._v(" "),a("ul",[a("li",[t._v("场景1: 了解工程开发工作量")]),t._v(" "),a("li",[t._v("场景2: 一般用于申请软件专利需指导总计代码行数")]),t._v(" "),a("li",[t._v("代码示例如下"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('$response = ManagerService::blogService()->exportBlog();\necho $response["data"];\necho "<script>window.open(\'" . $response["data"] . "\');<\/script>";\n')])])])])]),t._v(" "),a("h3",{attrs:{id:"统计代码行数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#统计代码行数"}},[t._v("#")]),t._v(" 统计代码行数")]),t._v(" "),a("ul",[a("li",[t._v("场景1: 了解工程开发工作量")]),t._v(" "),a("li",[t._v("场景2: 一般用于申请软件专利需指导总计代码行数")]),t._v(" "),a("li",[t._v("代码示例如下"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('$file_path =  Gc::$nav_root_path;\n$f_files   = UtilFileSystem::getAllFilesInDirectory( $file_path, "php" );\n// $f_files   = UtilFileSystem::getAllFilesInDirectory($file_path, array("js", "php", "tpl", "css", "json"));\necho "共计:" . count($f_files) . "个源文件<br/>";\n$lines = 0;\nforeach ($f_files as $key => $f_file) {\n    $content = file_get_contents($f_file);\n    $content = preg_split("/[\\r\\n]/i", $content, 0, PREG_SPLIT_NO_EMPTY);\n    $lines  += count($content);\n    echo $f_file . "<br/>";\n}\necho "共计:" . $lines . "行<br/>";\n')])])])])]),t._v(" "),a("h3",{attrs:{id:"多数据库源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多数据库源"}},[t._v("#")]),t._v(" 多数据库源")]),t._v(" "),a("ul",[a("li",[t._v("场景1: 多用于访问多数据库，访问不同数据库表")]),t._v(" "),a("li",[t._v("场景2: 进行数据的迁移，如需要将有多表关系的数据从正式服迁移到测试服，测试排查问题")]),t._v(" "),a("li",[t._v("代码示例如下:"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 多数据库源\n// 默认数据库源: Gc::$database_config\n$sql  = \"select * from bb_core_blog;\";\n$blog = sqlExecute($sql);\nprint_pre($blog, true);\n// 修改数据库源后，之后调用框架数据库函数都使用新的数据源\nGc::$database_config = array(\n    'host' => '127.0.0.1',\n    'port' => '3306',\n    'database' => 'bb',\n    'username' => 'root',\n    'password' => ''\n);\nConfigDb::initGc();\nManagerDb::newInstance()->resetDao();\n$new_sql = \"select * from bb_user_user;\";\n$user    = sqlExecute($new_sql);\nprint_pre($user, true);\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"显示超过限制数量的表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#显示超过限制数量的表"}},[t._v("#")]),t._v(" 显示超过限制数量的表")]),t._v(" "),a("ul",[a("li",[t._v("http://127.0.0.1/betterlife/tools/tools/db/db_countrows.php?l=10000")]),t._v(" "),a("li",[t._v("参数: l: 限制数量")])]),t._v(" "),a("h3",{attrs:{id:"生成报表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生成报表"}},[t._v("#")]),t._v(" 生成报表")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/ace/more/report.html"}},[t._v("报表系统")])],1)])])}),[],!1,null,null,null);e.default=l.exports}}]);
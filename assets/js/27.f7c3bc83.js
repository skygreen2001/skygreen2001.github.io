(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{424:function(_,v,l){"use strict";l.r(v);var i=l(56),e=Object(i.a)({},(function(){var _=this,v=_.$createElement,l=_._self._c||v;return l("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[l("h1",{attrs:{id:"数据库原型设计规范"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#数据库原型设计规范"}},[_._v("#")]),_._v(" 数据库原型设计规范")]),_._v(" "),l("p",[_._v("推荐使用数据库设计IDE工具"),l("code",[_._v("MysqlWorkBench")]),_._v("进行表设计,通过MysqlWorkBench的Forward Engineer工具直接生成数据库Sql脚本或者直接生成数据库。")]),_._v(" "),l("p",[_._v("也可以直接用Phpmyadmin或者Navicat直接进行数据库表定义。")]),_._v(" "),l("p",[_._v("请注意以下规范中提到的表注释和列注释要求,它直接关系后面代码生成和数据库说明书的生成, 严格按规范定义后, 即可做到一处定义,代码、文档都可自动实时生成相应的注释, 无需额外的工作。")]),_._v(" "),l("h2",{attrs:{id:"规则详细说明"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#规则详细说明"}},[_._v("#")]),_._v(" 规则详细说明")]),_._v(" "),l("ul",[l("li",[l("p",[_._v('以下规范中定义的 "_" 是半角, 不是全角。')])]),_._v(" "),l("li",[l("p",[_._v('表名定义: 库名缩写 + "_" + 目录名 + "_" + 类名[头字母小写]')]),_._v(" "),l("ul",[l("li",[_._v("如乐活的博客表:\n"),l("ul",[l("li",[_._v("库名缩写: bb")]),_._v(" "),l("li",[_._v("目录名: core")]),_._v(" "),l("li",[_._v("类名: Blog")])])]),_._v(" "),l("li",[_._v("所以表名:bb_core_blog")]),_._v(" "),l("li",[_._v("表名最后一段不能命名为特殊关键字如new: 如bb_core_new")])])]),_._v(" "),l("li",[l("p",[_._v("每张表需要定义表注释")])]),_._v(" "),l("li",[l("p",[_._v("每张表每列需定义列注释")])]),_._v(" "),l("li",[l("p",[_._v("每张表需定义字段:")]),_._v(" "),l("ul",[l("li",[_._v('标识   : 类名[头字母小写] + "_" + "id"')]),_._v(" "),l("li",[_._v("创建时间: commitTime")]),_._v(" "),l("li",[_._v("更新时间: updateTime")])])]),_._v(" "),l("li",[l("p",[_._v('标识列名定义为: 类名[头字母小写] + "_" + "id"')]),_._v(" "),l("ul",[l("li",[_._v("如乐活的博客表: blog_id")])])]),_._v(" "),l("li",[l("p",[_._v("表与表之间存在关系的主键与原表中的主键定义一致")]),_._v(" "),l("ol",[l("li",[l("p",[_._v("用户表和用户详情表存在一对一关系, 在用户详情中的关系主键user_id和用户表的主键是一致的。")])]),_._v(" "),l("li",[l("p",[_._v("用户表和角色表存在多对多关系, 在中间关系表:bb_user_re_userrole中关系主键user_id和用户表的主键是一致的,role_id和角色表的主键是一致的。")])]),_._v(" "),l("li",[l("p",[_._v("用户表和博客表存在一对多关系, 在博客表:bb_core_blog中关系主键user_id和用户表的主键是一致的。")])])])]),_._v(" "),l("li",[l("p",[_._v("标识列为自增长, AI列勾选。")])]),_._v(" "),l("li",[l("p",[_._v("列类型为int时, 默认值为0")])]),_._v(" "),l("li",[l("p",[_._v("列名不能为name, 最好加前缀, 如博客表就为blog_name。")])]),_._v(" "),l("li",[l("p",[_._v("枚举类型注释定义:")]),_._v(" "),l("ul",[l("li",[_._v("枚举值: 枚举值说明-枚举值英文名(或拼音名)")]),_._v(" "),l("li",[_._v("每句之间以回车或者;分割")]),_._v(" "),l("li",[_._v("如用户详情表中的性别定义为: sexType")]),_._v(" "),l("li",[_._v("类型: enum('0', '1', '2')")]),_._v(" "),l("li",[_._v("列注释如下"),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[_._v("性别\n0:女-female\n1:男-male\n2:待确认-unknown\n")])])])])])]),_._v(" "),l("li",[l("p",[_._v("updateTime默认值是CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP")])]),_._v(" "),l("li",[l("p",[_._v("图片列定义规则:")]),_._v(" "),l("ul",[l("li",[_._v("列名称为: image|img|ico|logo|pic")])])]),_._v(" "),l("li",[l("p",[_._v("大数据, 需TextArea输入大文本列定义规则:")]),_._v(" "),l("ol",[l("li",[_._v("列名称为: intro|memo")]),_._v(" "),l("li",[_._v("列类型为: text|longtext")]),_._v(" "),l("li",[_._v("特殊情况: 列长度>=500并且名称不能为images|link|ico")])])]),_._v(" "),l("li",[l("p",[_._v("邮箱列定义规则:")]),_._v(" "),l("ol",[l("li",[_._v("列名称含有: email")]),_._v(" "),l("li",[_._v("列名称注释含有: 邮件,邮箱")]),_._v(" "),l("li",[_._v("并且列名称不含有is【如是否发送邮件列就不是邮箱列】")])])]),_._v(" "),l("li",[l("p",[_._v("密码列定义规则:")]),_._v(" "),l("p",[_._v("表名称含有: member|user|admin 并且列名称含有: password")])]),_._v(" "),l("li",[l("p",[_._v("当和其他表是一对一的关系:")]),_._v(" "),l("ul",[l("li",[_._v("需设置外键字段为Unique")]),_._v(" "),l("li",[_._v("如用户和用户详情表, 则需要在用户详情表里指明外键user_id是Unique。")])])]),_._v(" "),l("li",[l("p",[_._v('多对多关系表名称中间用"_re_"连接。如: bb_user_re_userrole')])]),_._v(" "),l("li",[l("p",[_._v("树结构定义, 需要字段:parent_id 和 level, 可选字段: 当前节点下有多少子节点可选择: countChild 或者 childCount, 示例可参考地区的定义表: bb_dic_region。")])])])])}),[],!1,null,null,null);v.default=e.exports}}]);
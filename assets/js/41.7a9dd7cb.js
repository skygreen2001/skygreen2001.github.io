(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{437:function(t,e,r){"use strict";r.r(e);var s=r(56),a=Object(s.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"安装php第三方库和ueditor"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装php第三方库和ueditor"}},[t._v("#")]),t._v(" 安装PHP第三方库和UEditor")]),t._v(" "),r("p",[t._v("主要目标是安装PHP第三方库和UEditor。")]),t._v(" "),r("h2",{attrs:{id:"推荐方式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#推荐方式"}},[t._v("#")]),t._v(" 推荐方式")]),t._v(" "),r("h3",{attrs:{id:"docker方式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#docker方式"}},[t._v("#")]),t._v(" Docker方式")]),t._v(" "),r("ul",[r("li",[r("p",[r("strong",[t._v("安装Docker")])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://docs.docker.com/get-docker/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Get Docker"),r("OutboundLink")],1)])])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("Docker帮助文档")])]),t._v(" "),r("ul",[r("li",[r("RouterLink",{attrs:{to:"/core/install/docker/"}},[t._v("说明")])],1)])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("安装PHP第三方库")])]),t._v(" "),r("p",[t._v("如果开发者熟悉Docker，可使用Docker安装PHP第三方库，就无需在本地安装composer了。")]),t._v(" "),r("p",[t._v("在Docker容器内安装好UEditor，用修改过的UEditor备份文件(已先复制到容器内)覆盖，再将其复制到本地指定的文件路径下。")]),t._v(" "),r("p",[t._v("以下操作均在根路径下命令行中执行:")]),t._v(" "),r("ul",[r("li",[t._v("安装目录: 根路径")]),t._v(" "),r("li",[t._v("创建镜像\n"),r("ul",[r("li",[t._v("docker build -t bb/composer --target=composer -f install/docker/Dockerfile .")])])]),t._v(" "),r("li",[t._v("运行容器应用\n"),r("ul",[r("li",[t._v("docker run -dit --name=betterlife_composer bb/composer")])])]),t._v(" "),r("li",[t._v("复制容器文件到本地:\n"),r("ul",[r("li",[t._v("复制安装好的PHP第三方库文件到本地: docker cp betterlife_composer:/app/vendor/ $(pwd)/install/")])])])])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("安装UEditor")])]),t._v(" "),r("p",[t._v("如果开发者熟悉Docker, 可使用Docker在容器内安装好UEditor, 用修改过的UEditor备份文件(已先复制到容器内)覆盖，再将其从容器里复制到宿主机本地指定路径下。")]),t._v(" "),r("p",[t._v("以下操作均在根路径下命令行中执行:")]),t._v(" "),r("ul",[r("li",[t._v("安装目录: 根路径")]),t._v(" "),r("li",[t._v("创建镜像\n"),r("ul",[r("li",[t._v("docker build -t bb/ueditor --target=ueditor -f install/docker/Dockerfile .")])])]),t._v(" "),r("li",[t._v("运行容器应用\n"),r("ul",[r("li",[t._v("docker run -dit --name=betterlife_ueditor bb/ueditor")])])]),t._v(" "),r("li",[t._v("复制容器文件到本地:\n"),r("ul",[r("li",[t._v("复制安装好的UEditor包文件到本地: docker cp betterlife_ueditor:/app/misc/js/onlineditor/ueditor/ $(pwd)/misc/js/onlineditor/")])])])])])]),t._v(" "),r("h2",{attrs:{id:"本地方式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#本地方式"}},[t._v("#")]),t._v(" 本地方式")]),t._v(" "),r("h3",{attrs:{id:"安装php第三方库"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装php第三方库"}},[t._v("#")]),t._v(" 安装PHP第三方库")]),t._v(" "),r("ul",[r("li",[r("p",[r("strong",[t._v("安装 composer")])]),t._v(" "),r("ul",[r("li",[t._v("安装composer: http://docs.phpcomposer.com/00-intro.html\n"),r("ul",[r("li",[t._v("升级composer: composer self-update")]),t._v(" "),r("li",[t._v("升级后回滚老版本: composer self-update --rollback")]),t._v(" "),r("li",[r("a",{attrs:{href:"https://developer.aliyun.com/composer",target:"_blank",rel:"noopener noreferrer"}},[t._v("阿里云 Composer 全量镜像"),r("OutboundLink")],1)])])])])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("安装目录下运行")])]),t._v(" "),r("ul",[r("li",[r("p",[t._v("根路径下运行composer")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("> composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/\n> composer install --ignore-platform-reqs --no-interaction --no-plugins --no-scripts --prefer-dist\n")])])])])])])]),t._v(" "),r("h3",{attrs:{id:"安装ueditor"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装ueditor"}},[t._v("#")]),t._v(" 安装UEditor")]),t._v(" "),r("h4",{attrs:{id:"必备条件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#必备条件"}},[t._v("#")]),t._v(" 必备条件")]),t._v(" "),r("ul",[r("li",[r("p",[r("strong",[t._v("安装NodeJs")])]),t._v(" "),r("p",[t._v("下载地址: https://nodejs.org/en/download/")])])]),t._v(" "),r("h4",{attrs:{id:"第一种方式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第一种方式"}},[t._v("#")]),t._v(" 第一种方式")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("使用Git、Node工具。")])]),t._v(" "),r("li",[r("p",[t._v("UEditor源码需用到Github库")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/360677731",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github国内镜像网站"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("Github源库: https://github.com/fex-team/ueditor.git")]),t._v(" "),r("li",[t._v("镜像一    : https://github.com.cnpmjs.org/fex-team/ueditor.git")]),t._v(" "),r("li",[t._v("镜像二    : https://hub.fastgit.org/fex-team/ueditor.git")])])]),t._v(" "),r("li",[r("p",[t._v("安装目录: 以下安装都在根路径/install 目录下")])]),t._v(" "),r("li",[r("p",[t._v("命令行下运行:")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("> git clone https://github.com.cnpmjs.org/fex-team/ueditor.git -b dev-1.4.3.3\n> npm config set registry https://registry.npm.taobao.org \n> cd ueditor && npm install && npm install -g grunt && npm install -g grunt-cli && grunt default \\\n> cd ../../misc/js/onlineditor && mkdir ueditor \\\n> cp -rf ../../../install/ueditor/dist/utf8-php/* ueditor/ \\\n> cp -rf ueditor_bak/* ueditor/\n> cd ../../../install/ && rm -rf ueditor\n")])])])])]),t._v(" "),r("h4",{attrs:{id:"第二种方式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#第二种方式"}},[t._v("#")]),t._v(" 第二种方式")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("使用Node, Gulp工具。")])]),t._v(" "),r("li",[r("p",[t._v("安装目录: 以下安装都在根路径/install 目录下, 即本说明文件目录下")])]),t._v(" "),r("li",[r("p",[t._v("全局安装Gulp")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("> npm install -g gulp\n")])])])]),t._v(" "),r("li",[r("p",[t._v("运行npm")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("> npm install\n")])])]),r("p",[t._v("[Mac电脑用户]: sudo npm install")])]),t._v(" "),r("li",[r("p",[t._v("运行gulp")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("> sudo gulp\n")])])]),r("ul",[r("li",[t._v("说明: 因为ueditor打包需要安装grunt的原因，该命令行需执行两次。")])])]),t._v(" "),r("li",[r("p",[t._v("安装ueditor")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("> sudo gulp ueditor_cp && sudo gulp ueditor\n")])])])])]),t._v(" "),r("h2",{attrs:{id:"手动方式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#手动方式"}},[t._v("#")]),t._v(" 手动方式")]),t._v(" "),r("ul",[r("li",[r("p",[r("strong",[t._v("安装UEditor ｜ Smarty | PHPExcel")])]),t._v(" "),r("ul",[r("li",[r("p",[t._v("下载 在线编辑器: "),r("a",{attrs:{href:"http://ueditor.baidu.com/website/download.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("UEditor"),r("OutboundLink")],1)]),t._v(" "),r("ul",[r("li",[t._v("下载 在线编辑器: [UEditor] [1.4.3.3 PHP 版本] UTF-8版")]),t._v(" "),r("li",[t._v("解压 下载文件 到目录 utf8-php")]),t._v(" "),r("li",[t._v("先备份misc/js/onlineditor/ueditor 目录下的文件 到 misc/js/onlineditor/ueditor_bak 下")]),t._v(" "),r("li",[t._v("复制粘贴 utf8-php/ -> misc/js/onlineditor/ueditor 目录下")]),t._v(" "),r("li",[t._v("复制粘贴 misc/js/onlineditor/ueditor_bak -> misc/js/onlineditor/ueditor 即可.")])]),t._v(" "),r("p",[t._v("[说明]")]),t._v(" "),r("blockquote",[r("p",[t._v("UEditor下载版本为:[1.4.3.3 PHP 版本] UTF-8版")])])]),t._v(" "),r("li",[r("p",[t._v("下载Github库")]),t._v(" "),r("ul",[r("li",[t._v("Smarty        : https://github.com/smarty-php/smarty")]),t._v(" "),r("li",[t._v("PhpSpreadsheet: https://github.com/PHPOffice/PhpSpreadsheet")])])]),t._v(" "),r("li",[r("p",[t._v("放置 Smarty 库, PhpExcel库")]),t._v(" "),r("ul",[r("li",[t._v("放置 Smarty 库 -> install/vendor/smarty/smarty/ 目录下")]),t._v(" "),r("li",[t._v("放置 PhpSpreadsheet 库 -> install/vendor/phpoffice/phpspreadsheet/ 目录下")])])])])])]),t._v(" "),r("h2",{attrs:{id:"faq"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#faq"}},[t._v("#")]),t._v(" FAQ")]),t._v(" "),r("h3",{attrs:{id:"php-7-需知"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#php-7-需知"}},[t._v("#")]),t._v(" PHP 7 需知")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("Since PHP 7 is not in the official Ubuntu PPAs,使用Composer install 会提示错误: Call to undefined function: simplexml_load_string(),解决办法在服务器上执行以下指令")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("> sudo apt-get install php7.0-xml\n> sudo service php7.0-fpm restart\n")])])])]),t._v(" "),r("li",[r("p",[t._v("Composer require phpoffice/phpspreadsheet doesn't work")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("> sudo apt install php-xml\n> sudo apt install php7.0-gd\n> sudo apt install php7.0-mbstring\n> sudo apt install php-zip\n")])])])])]),t._v(" "),r("h3",{attrs:{id:"mac电脑运行gulp提示-referenceerror-primordials-is-not-defined"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#mac电脑运行gulp提示-referenceerror-primordials-is-not-defined"}},[t._v("#")]),t._v(" Mac电脑运行gulp提示: ReferenceError: primordials is not defined")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("安装nvm[Mac OS 下 NVM 的安装与使用]: https://www.jianshu.com/p/622ad36ee020")]),t._v(" "),r("ul",[r("li",[t._v("curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.1/install.sh | bash")]),t._v(" "),r("li",[t._v('export NVM_DIR="$([ -z "${XDG_CONFIG_HOME-}" ] && printf %s "${HOME}/.nvm" || printf %s "${XDG_CONFIG_HOME}/nvm")"\n[ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh" # This loads nvm')])])]),t._v(" "),r("li",[r("p",[t._v("nvm install 10.15.3")])])]),t._v(" "),r("h2",{attrs:{id:"参考资料"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),r("ul",[r("li",[r("p",[r("strong",[t._v("安装Composer")])]),t._v(" "),r("blockquote",[r("p",[t._v("http://www.phpcomposer.com/")])])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("下载Smarty")])]),t._v(" "),r("blockquote",[r("p",[t._v("https://github.com/smarty-php/smarty")])])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("下载PhpSpreadsheet")])]),t._v(" "),r("blockquote",[r("p",[t._v("https://github.com/PHPOffice/PhpSpreadsheet")])])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("安装UEditor")])]),t._v(" "),r("blockquote",[r("p",[t._v("http://ueditor.baidu.com/website/download.html")])])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("安装NodeJs")])]),t._v(" "),r("blockquote",[r("p",[r("a",{attrs:{href:"https://nodejs.org/en/download/package-manager/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Installing Node.js via package manager"),r("OutboundLink")],1)])])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("安装Gulp")])]),t._v(" "),r("blockquote",[r("p",[t._v("中文说明: http://www.gulpjs.com.cn/docs/getting-started/\n英文说明: http://www.gulpjs.com")])])])])])}),[],!1,null,null,null);e.default=a.exports}}]);
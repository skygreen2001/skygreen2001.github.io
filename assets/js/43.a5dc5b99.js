(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{439:function(t,s,a){"use strict";a.r(s);var n=a(56),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" Api")]),t._v(" "),a("h2",{attrs:{id:"介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),a("ul",[a("li",[t._v("类似spring boot、Laravel resource、Restful")]),t._v(" "),a("li",[t._v("提供给前端Ajax请求、axios使用")]),t._v(" "),a("li",[t._v("提供给jQuery、react、vuejs、angularjs、angular使用")])]),t._v(" "),a("h2",{attrs:{id:"分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分类"}},[t._v("#")]),t._v(" 分类")]),t._v(" "),a("ul",[a("li",[t._v("Api工具")]),t._v(" "),a("li",[t._v("MVC Api")])]),t._v(" "),a("h2",{attrs:{id:"api工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api工具"}},[t._v("#")]),t._v(" Api工具")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/core/tools/toolsapi.html"}},[t._v("api工具")]),t._v(" "),a("ul",[a("li",[t._v("只需要引入 "),a("code",[t._v("init.php")]),t._v(" 文件")]),t._v(" "),a("li",[t._v("开发接近原生，无需使用MVC路由规则")]),t._v(" "),a("li",[t._v("同时可以利用betterlife框架的好处。")]),t._v(" "),a("li",[t._v("去除了MVC路由的复杂性，开发更简洁，代码更易读")])])],1)]),t._v(" "),a("h2",{attrs:{id:"mvc-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mvc-api"}},[t._v("#")]),t._v(" MVC Api")]),t._v(" "),a("ul",[a("li",[t._v("可以在"),a("RouterLink",{attrs:{to:"/core/mvc/controller.html"}},[t._v("控制器层")]),t._v("里使用。\n"),a("ul",[a("li",[t._v("各种控制器层都可以使用，\n"),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/core/mvc/controller.html"}},[t._v("前台控制器")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/core/mvc/controller.html"}},[t._v("后台控制器")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/core/mvc/controller.html"}},[t._v("通用模版控制器")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/core/mvc/controller.html"}},[t._v("报表控制器")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/core/mvc/controller.html"}},[t._v("前台控制器")])],1)])]),t._v(" "),a("li",[t._v("简而言之，规则就是控制器函数有返回的都是Api请求，没有返回的就是Mvc渲染页面请求")])])],1),t._v(" "),a("li",[t._v("MVC Api使用了MVC的路由规则，Url需遵循MVC的路由规则。")])]),t._v(" "),a("h2",{attrs:{id:"mvc-api-示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mvc-api-示例"}},[t._v("#")]),t._v(" MVC Api 示例")]),t._v(" "),a("ul",[a("li",[t._v("示例文件: home/betterlife/action/Action_Ajax.php")]),t._v(" "),a("li",[t._v("示例1: 返回字符串"),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 仅供测试:Ajax请求返回字符串\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"Hello world!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[t._v("示例2: 返回json格式字符串，前端多数请求使用这种返回"),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 仅供测试:Ajax请求返回json格式字符串\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$result")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"id"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"ti"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"标题缩写"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"hi"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"Welcome to ajax!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"ha"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v('"^_^"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$result")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])])}),[],!1,null,null,null);s.default=r.exports}}]);
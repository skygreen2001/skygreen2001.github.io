(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{444:function(a,n,t){"use strict";t.r(n);var e=t(56),r=Object(e.a)({},(function(){var a=this,n=a.$createElement,t=a._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"日志处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#日志处理"}},[a._v("#")]),a._v(" 日志处理")]),a._v(" "),t("h2",{attrs:{id:"常用函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用函数"}},[a._v("#")]),a._v(" 常用函数")]),a._v(" "),t("ul",[t("li",[t("p",[a._v('使用示例: rz( "我在想事情呢!等等我......" );')]),a._v(" "),t("ul",[t("li",[a._v("记录日志，中文读作日志，是"),t("code",[a._v("日志")]),a._v("中文拼音ri zhi的头字母缩写")])])]),a._v(" "),t("li",[t("p",[a._v("定义:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("<?php\n  /**\n   * 记录日志\n   * @param string $message 日志记录的内容\n   * @param enum $level 日志记录级别\n   * @param string $category 日志内容业务分类\n   * @return void\n   */\n  function rz($message, $level = EnumLogLevel::INFO, $category = '')\n\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"日志处理配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#日志处理配置"}},[a._v("#")]),a._v(" 日志处理配置")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("根路径下全局变量定义配置文件: Gc.php")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("<?php\n\n  public static $log_config = array(\n      /**\n       * 默认日志记录的方式。\n       * \n       * 一般来讲，日志都通过log记录，由本配置决定它在哪里打印出来。\n       * \n       * 可通过邮件发送重要日志，可在数据库或者文件中记录日志。也可以通过Firebug显示日志。\n       * \n       * EnumLogType::FILE : 3\n       */\n      'logType'          => EnumLogType::FILE,\n      /**\n       * 允许记录的日志级别\n       */\n      'log_record_level' => array('EMERG','ALERT','CRIT','ERR','INFO'),\n      /**\n       * 日志文件路径\n       * \n       * 可指定日志文件放置的路径\n       * \n       * 如果为空不设置，则在网站应用根目录下新建一个log目录，放置在它下面\n       */\n      'logpath'       => '',\n      /**\n       * 检测日志文件大小，超过配置大小则备份日志文件重新生成，单位为字节\n       */\n      'log_file_size' => 1024000000,\n      /**\n       * 日志记录的时间格式\n       */\n      'timeFormat'    => '%Y-%m-%d %H:%M:%S',\n      /**\n       * 通过邮件发送日志的配置。\n       */\n      'config_mail_log' => array(\n          'subject'     => '重要的日志事件',\n          'mailBackend' => '',\n      ),\n      'log_table' => 'bb_log_log',\n  );\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"数据库操作sql日志记录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库操作sql日志记录"}},[a._v("#")]),a._v(" 数据库操作SQL日志记录")]),a._v(" "),t("ul",[t("li",[a._v("修改根路径下的全局配置文件:Gc.php")]),a._v(" "),t("li",[a._v("默认记录数据库操作SQL日志，用于排查数据库操作异常"),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("  /**\n   * 数据库配置\n   * @var array\n   * @static\n   */\n  public static $database_config = array(\n      ......\n      'debug'    => true//记录日志:数据库sql查询语句\n  );\n")])])])])])])}),[],!1,null,null,null);n.default=r.exports}}]);